<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<style>
  .list {
    width: 200px;
    height: 150px;
    overflow: auto;
  }
  .item {
    width: 100%;
    height: 30px;
    line-height: 30px;
    background: paleturquoise;
  }
</style>
<body>
  <div id="test"></div>

  <script src="../js/17.0.2/react.development.js"></script>
  <script src="../js/17.0.2/react-dom.development.js"></script>
  <script src="../js/babel.min.js"></script>

 <script type="text/babel">
   class News extends React.Component {
     state = {newsArr: []}

     componentDidMount() {
       this.timer = setInterval(() => {
         // 获取原来的新闻
         const {newsArr} = this.state
         const n = '新闻' + (newsArr.length + 1)
         // 更新状态
         this.setState({newsArr: [n, ...newsArr]})
       }, 1000)
     }

     componentWillUnmount() {
       clearInterval(this.timer)
     }

     getSnapshotBeforeUpdate() {
       return this.refs.list.scrollHeight
     }

     componentDidUpdate(_,__,SnapshotValue) {
       this.refs.list.scrollTop +=  this.refs.list.scrollHeight - SnapshotValue
     }

     render() {
       return (
           <div className="list" ref="list">
             {
               this.state.newsArr.map((news, index) => {
                 return <div className="item" key={index}>{news}</div>
               })
             }
           </div>
       )
     }
   }
   ReactDOM.render(<News />, document.getElementById('test'))
 </script>
</body>
</html>
