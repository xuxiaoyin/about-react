<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
  <script type="text/javascript">
    /*
    数组的reduce方法
      语法：
        arr.reduce((preValue, current, index, arr) => {}, initValue)
        arr:当前操作的数组
        preValue：第一次执行回调时为给定的初始值initValue，以后是上一次执行回调时的返回值。
                  备注：若没有传入initValue，则第一次的preValue值是数组中第一个元素的值。
        current 表示当前正在处理的元素；
        index 表示当前正在处理的数组元素的索引，若传入了initValue值，则为0，否则为1
        array 当前操作的数组（就是arr）
        initValue 表示初始值，一般做数学运算时设置为0，若为筛选值可以不传
     */
    let persons = [
      {id: '001', name: 'tom', age: 18},
      {id: '002', name: 'tom1', age: 19},
      {id: '003', name: 'tom3', age: 20},
      {id: '004', name: 'tom4', age: 21},
    ]

    let arr = [1,2,3,4,5,6,7,8,9,10]

    // reduce可以进行累加
    const result = arr.reduce((preValue, current, index, arr) => {
      // console.log(preValue, current)
      return preValue + current
    }, 0)
    console.log(result);

    // reduce可以进行条件求和
    const result1 = arr.reduce((preValue, current) => {
      return preValue + (current % 2 === 0 ? current : 0)
    }, 0)
    console.log(result1)

    // reduce可以进行条件统计
    const result2 = arr.reduce((preValue, current) => {
      return preValue + (current % 2 !== 0 ? 1 : 0)
    }, 0)
    console.log(result2)

    // 筛选最值
    const result4 = arr.reduce((preValue, current) => {
      return Math.max(preValue, current)
    }, 0)
    console.log(result4)
  </script>
</body>
</html>
